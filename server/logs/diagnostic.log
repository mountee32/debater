[2024-12-02T23:36:06.504Z] Diagnostic logging initialized
[2024-12-02T23:36:06.505Z] Starting server initialization...
[2024-12-02T23:36:06.506Z] Middleware configured
Data: {
  "cors": {
    "origin": [
      "http://localhost:5173",
      "http://localhost:5174",
      "http://localhost:5175"
    ],
    "methods": [
      "GET",
      "POST"
    ]
  }
}
[2024-12-02T23:36:06.507Z] Routes configured
Data: {
  "endpoints": [
    "/api/debate"
  ]
}
[2024-12-02T23:36:06.507Z] Testing diagnostic logger
Data: {
  "test": "This is a test log entry",
  "timestamp": "2024-12-02T23:36:06.507Z"
}
[2024-12-02T23:36:06.510Z] Server running on port 3000
[2024-12-02T23:36:06.511Z] Server configuration
Data: {
  "port": 3000,
  "corsOrigin": [
    "http://localhost:5173",
    "http://localhost:5174",
    "http://localhost:5175"
  ],
  "diagnosticLogging": true
}
[2024-12-02T23:36:30.915Z] [DebateRoutes] Starting new conversation:
Data: {
  "topic": "We have no free will because God’s plan is predetermined",
  "difficulty": 1,
  "participants": [
    {
      "id": "user",
      "name": "User",
      "avatar": "user.svg",
      "role": "debater"
    },
    {
      "id": "opponent",
      "name": "Logical Larry",
      "avatar": "/assets/business_man.svg",
      "role": "debater"
    }
  ],
  "subjectId": "REL002",
  "position": "against",
  "skill": "easy"
}
[2024-12-02T23:36:30.915Z] [ConversationRecorder] Current directory: /home/vscode/debater/server
[2024-12-02T23:36:30.915Z] [ConversationRecorder] Log directory path: /home/vscode/debater/server/logs/conversations
[2024-12-02T23:36:30.917Z] [ConversationRecorder] Generated unique ID: 6c9243c6
[2024-12-02T23:36:30.917Z] [ConversationRecorder] Starting new conversation with ID: 6c9243c6
[2024-12-02T23:36:30.917Z] [ConversationRecorder] Current directory: /home/vscode/debater/server
[2024-12-02T23:36:30.918Z] [ConversationRecorder] Log directory path: /home/vscode/debater/server/logs/conversations
[2024-12-02T23:36:30.918Z] [ConversationRecorder] Saving conversation to /home/vscode/debater/server/logs/conversations/2024-12-02-conversation-6c9243c6.json
[2024-12-02T23:36:30.920Z] [ConversationRecorder] Successfully saved conversation to /home/vscode/debater/server/logs/conversations/2024-12-02-conversation-6c9243c6.json
[2024-12-02T23:36:30.920Z] [DebateRoutes] Started conversation:
Data: {
  "conversationId": "6c9243c6"
}
[2024-12-02T23:36:30.934Z] [DebateRoutes] Starting new conversation:
Data: {
  "topic": "We have no free will because God’s plan is predetermined",
  "difficulty": 1,
  "participants": [
    {
      "id": "user",
      "name": "User",
      "avatar": "user.svg",
      "role": "debater"
    },
    {
      "id": "opponent",
      "name": "Logical Larry",
      "avatar": "/assets/business_man.svg",
      "role": "debater"
    }
  ],
  "subjectId": "REL002",
  "position": "against",
  "skill": "easy"
}
[2024-12-02T23:36:30.934Z] [ConversationRecorder] Current directory: /home/vscode/debater/server
[2024-12-02T23:36:30.934Z] [ConversationRecorder] Log directory path: /home/vscode/debater/server/logs/conversations
[2024-12-02T23:36:30.934Z] [ConversationRecorder] Generated unique ID: 5f8db228
[2024-12-02T23:36:30.934Z] [ConversationRecorder] Starting new conversation with ID: 5f8db228
[2024-12-02T23:36:30.935Z] [ConversationRecorder] Current directory: /home/vscode/debater/server
[2024-12-02T23:36:30.935Z] [ConversationRecorder] Log directory path: /home/vscode/debater/server/logs/conversations
[2024-12-02T23:36:30.935Z] [ConversationRecorder] Saving conversation to /home/vscode/debater/server/logs/conversations/2024-12-02-conversation-5f8db228.json
[2024-12-02T23:36:30.937Z] [ConversationRecorder] Successfully saved conversation to /home/vscode/debater/server/logs/conversations/2024-12-02-conversation-5f8db228.json
[2024-12-02T23:36:30.937Z] [DebateRoutes] Started conversation:
Data: {
  "conversationId": "5f8db228"
}
[2024-12-02T23:36:30.950Z] [DebateRoutes] Generating response:
Data: {
  "topic": "We have no free will because God’s plan is predetermined",
  "position": "for",
  "model": "openai/gpt-4o-mini",
  "difficulty": "easy",
  "messageCount": 2
}
[2024-12-02T23:36:30.950Z] Generating completion with request:
Data: {
  "model": "openai/gpt-4o-mini",
  "messages": [
    {
      "role": "system",
      "content": "You are Logical Larry, A methodical debater who relies on structured reasoning and empirical evidence. You are debating for the topic \"We have no free will because God’s plan is predetermined\".\n\nDIFFICULTY ADAPTATION (easy):\n- Vocabulary Level: simple technical terms\n- Argument Complexity: basic step-by-step reasoning\n- Response Length: short, focused points\n- Example Types: simple statistics, everyday observations\n\nPERSONALITY TRAITS:\n- Argument Style: systematic and evidence-based\n- Vocabulary: simple technical terms\n- Example Types: simple statistics, everyday observations\n- Debate Strategy: structured logical progression\n\nBEHAVIORAL GUIDELINES:\n- Always cite specific data points or studies\n- Break down complex arguments into logical steps\n- Maintain emotional distance while presenting facts\n- Address counterarguments with empirical evidence\n\nLANGUAGE STYLE:\n- Tone: formal and analytical\n- Complexity: Adapted for easy difficulty\n- Preferred Phrases: empirical evidence suggests, statistical analysis shows, logical conclusion, research indicates\n- Phrases to Avoid: I feel that, maybe, sort of, kind of\n\nDEBATE APPROACH:\n- Opening Style: Begin with a clear thesis supported by data\n- Counter-Argument Style: Methodically deconstruct opposing arguments with evidence\n- Evidence Preference: Peer-reviewed studies and statistical data\n- Persuasion Techniques: Syllogistic reasoning, Statistical analysis, Causal chains, Empirical evidence\n\nRESPONSE FORMAT:\n- Keep responses short, focused points\n- Maintain basic step-by-step reasoning\n- Use simple technical terms\n- Focus on simple statistics and everyday observations\n\nYour responses should reflect your personality while adapting to the easy difficulty level."
    },
    {
      "role": "user",
      "content": "The topic is: \"We have no free will because God’s plan is predetermined\". Start with a clear opening argument for the topic."
    }
  ],
  "temperature": 0.3,
  "max_tokens": 200,
  "difficulty": "easy",
  "configUsed": {
    "temperature": 0.3,
    "maxTokens": 200,
    "scoreMultiplier": 1.5
  }
}
[2024-12-02T23:36:34.720Z] Received API response:
Data: {
  "status": 200,
  "data": {
    "id": "gen-1733182592-23Zr6ZdiecbnLBRFfcBB",
    "provider": "OpenAI",
    "model": "openai/gpt-4o-mini",
    "object": "chat.completion",
    "created": 1733182592,
    "choices": [
      {
        "logprobs": null,
        "finish_reason": "length",
        "index": 0,
        "message": {
          "role": "assistant",
          "content": "The thesis of this argument is that we have no free will because God's plan is predetermined. \n\n1. **Definition of Predestination**: Predestination is the belief that God has already determined the course of events in the universe, including human actions.\n\n2. **Theological Basis**: Many religious texts, such as the Bible, suggest that God has a specific plan for everyone. For example, Ephesians 1:11 states that God \"works all things according to the counsel of his will.\"\n\n3. **Logical Conclusion**: If God has a predetermined plan, then human choices are part of that plan. This implies that our decisions are not truly free, as they are already known and set by God.\n\n4. **Empirical Evidence**: Studies in psychology show that many decisions are influenced by external factors, such as upbringing and environment. If our choices are heavily influenced by factors beyond our control, this supports the idea that free will is an illusion.\n\nIn conclusion, the combination of",
          "refusal": ""
        }
      }
    ],
    "system_fingerprint": "fp_0705bf87c0",
    "usage": {
      "prompt_tokens": 379,
      "completion_tokens": 200,
      "total_tokens": 579
    }
  }
}
[2024-12-02T23:36:34.722Z] [DebateRoutes] Generated response:
Data: {
  "responseLength": 978
}
[2024-12-02T23:36:34.745Z] [DebateRoutes] Recording message:
Data: {
  "participantId": "opponent",
  "messageLength": 978
}
[2024-12-02T23:36:34.745Z] [ConversationRecorder] Current directory: /home/vscode/debater/server
[2024-12-02T23:36:34.745Z] [ConversationRecorder] Log directory path: /home/vscode/debater/server/logs/conversations
[2024-12-02T23:36:34.746Z] [ConversationRecorder] Saving conversation to /home/vscode/debater/server/logs/conversations/2024-12-02-conversation-5f8db228.json
[2024-12-02T23:36:34.747Z] [ConversationRecorder] Successfully saved conversation to /home/vscode/debater/server/logs/conversations/2024-12-02-conversation-5f8db228.json
[2024-12-02T23:36:34.747Z] [ConversationRecorder] Recorded message from opponent
[2024-12-02T23:36:34.748Z] [DebateRoutes] Recorded message
[2024-12-02T23:36:34.764Z] [DebateRoutes] Evaluating argument:
Data: {
  "topic": "We have no free will because God’s plan is predetermined",
  "position": "for",
  "model": "google/gemini-flash-1.5",
  "roleToScore": "opponent",
  "difficulty": "easy"
}
[2024-12-02T23:36:34.765Z] Evaluating argument:
Data: {
  "topic": "We have no free will because God’s plan is predetermined",
  "position": "for",
  "messages": [
    {
      "role": "user",
      "content": "The thesis of this argument is that we have no free will because God's plan is predetermined. \n\n1. **Definition of Predestination**: Predestination is the belief that God has already determined the course of events in the universe, including human actions.\n\n2. **Theological Basis**: Many religious texts, such as the Bible, suggest that God has a specific plan for everyone. For example, Ephesians 1:11 states that God \"works all things according to the counsel of his will.\"\n\n3. **Logical Conclusion**: If God has a predetermined plan, then human choices are part of that plan. This implies that our decisions are not truly free, as they are already known and set by God.\n\n4. **Empirical Evidence**: Studies in psychology show that many decisions are influenced by external factors, such as upbringing and environment. If our choices are heavily influenced by factors beyond our control, this supports the idea that free will is an illusion.\n\nIn conclusion, the combination of",
      "id": 1
    }
  ],
  "currentScores": {
    "user": 50,
    "opponent": 50
  },
  "model": "google/gemini-flash-1.5",
  "roleToScore": "opponent",
  "difficulty": "easy"
}
[2024-12-02T23:36:34.765Z] Generating completion with request:
Data: {
  "model": "google/gemini-flash-1.5",
  "messages": [
    {
      "role": "system",
      "content": "You are an expert debate judge evaluating arguments on the topic: \"We have no free will because God’s plan is predetermined\".\n      \nSCORING CRITERIA:\n1. Relevance to topic\n2. Logical reasoning\n3. Evidence/examples used\n4. Clarity of expression\n5. Response to counterarguments\n6. Persuasiveness\n\nDIFFICULTY LEVEL: easy\nBe more lenient with scoring. Focus on basic argument structure and clarity.\n\nSCORING SCALE:\n0-20: Poor - Irrelevant, illogical, or unclear\n21-40: Fair - Basic argument with significant flaws\n41-60: Good - Clear argument with some supporting evidence\n61-80: Very Good - Strong argument with solid evidence\n81-100: Excellent - Exceptional argument with compelling evidence\n\nCurrent scores: user: 50, opponent: 50\n\nEvaluate the latest argument and return ONLY a number between 0-100."
    },
    {
      "role": "user",
      "content": "Evaluate this for argument: \"The thesis of this argument is that we have no free will because God's plan is predetermined. \n\n1. **Definition of Predestination**: Predestination is the belief that God has already determined the course of events in the universe, including human actions.\n\n2. **Theological Basis**: Many religious texts, such as the Bible, suggest that God has a specific plan for everyone. For example, Ephesians 1:11 states that God \"works all things according to the counsel of his will.\"\n\n3. **Logical Conclusion**: If God has a predetermined plan, then human choices are part of that plan. This implies that our decisions are not truly free, as they are already known and set by God.\n\n4. **Empirical Evidence**: Studies in psychology show that many decisions are influenced by external factors, such as upbringing and environment. If our choices are heavily influenced by factors beyond our control, this supports the idea that free will is an illusion.\n\nIn conclusion, the combination of\""
    }
  ],
  "temperature": 0.3,
  "max_tokens": 200,
  "difficulty": "easy",
  "configUsed": {
    "temperature": 0.3,
    "maxTokens": 200,
    "scoreMultiplier": 1.5
  }
}
[2024-12-02T23:36:35.802Z] Received API response:
Data: {
  "status": 200,
  "data": {
    "id": "gen-1733182595-wGGTquVEfB34QafNKcxC",
    "provider": "Google",
    "model": "google/gemini-flash-1.5",
    "object": "chat.completion",
    "created": 1733182595,
    "choices": [
      {
        "logprobs": null,
        "finish_reason": "STOP",
        "index": 0,
        "message": {
          "role": "assistant",
          "content": "65\n",
          "refusal": ""
        }
      }
    ],
    "usage": {
      "prompt_tokens": 413,
      "completion_tokens": 3,
      "total_tokens": 416
    }
  }
}
[2024-12-02T23:36:35.804Z] [DebateRoutes] Evaluated argument:
Data: {
  "score": 98
}
[2024-12-02T23:36:35.822Z] [DebateRoutes] Recording score:
Data: {
  "participantId": "opponent",
  "score": 98
}
[2024-12-02T23:36:35.822Z] [ConversationRecorder] Current directory: /home/vscode/debater/server
[2024-12-02T23:36:35.822Z] [ConversationRecorder] Log directory path: /home/vscode/debater/server/logs/conversations
[2024-12-02T23:36:35.822Z] [ConversationRecorder] Saving conversation to /home/vscode/debater/server/logs/conversations/2024-12-02-conversation-5f8db228.json
[2024-12-02T23:36:35.823Z] [ConversationRecorder] Successfully saved conversation to /home/vscode/debater/server/logs/conversations/2024-12-02-conversation-5f8db228.json
[2024-12-02T23:36:35.823Z] [ConversationRecorder] Recorded score for opponent: 98
[2024-12-02T23:36:35.823Z] [DebateRoutes] Recorded score
